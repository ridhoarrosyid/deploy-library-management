import{r as d,j as e}from"./app-5G6iJb5i.js";import{c as l,a as K}from"./index-B9GTUlAE.js";import{B as w}from"./badge-D0IxnB5C.js";import{B as q}from"./button-CIL1ReQ8.js";import{C as F,a as H,b as X,c as G,d as k,e as j,f as U}from"./command-bi_pEa4I.js";import{P as W,a as J,b as Q}from"./popover-Dg7K0VWx.js";import{P as Y}from"./index-CBkI1MNZ.js";import{c as E,C as S}from"./check-CWrr7DDb.js";import{X as Z}from"./index-DdeEEz-B.js";import{C}from"./chevron-down-C6IZj-Ss.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],P=E("circle-x",ee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],se=E("wand-sparkles",re);var te="Separator",O="horizontal",ae=["horizontal","vertical"],M=d.forwardRef((a,n)=>{const{decorative:i,orientation:c=O,...m}=a,o=ne(c)?c:O,g=i?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(Y.div,{"data-orientation":o,...g,...m,ref:n})});M.displayName=te;function ne(a){return ae.includes(a)}var A=M;const b=d.forwardRef(({className:a,orientation:n="horizontal",decorative:i=!0,...c},m)=>e.jsx(A,{ref:m,decorative:i,orientation:n,className:l("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...c}));b.displayName=A.displayName;const I=K("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),oe=d.forwardRef(({options:a,onValueChange:n,variant:i,defaultValue:c=[],placeholder:m="Select options",animation:o=0,maxCount:u=3,modalPopover:g=!1,asChild:le=!1,className:T,...z},D)=>{const[t,h]=d.useState(c),[R,x]=d.useState(!1),[p,_]=d.useState(!1),B=r=>{if(r.key==="Enter")x(!0);else if(r.key==="Backspace"&&!r.currentTarget.value){const s=[...t];s.pop(),h(s),n(s)}},N=r=>{const s=t.includes(r)?t.filter(f=>f!==r):[...t,r];h(s),n(s)},v=()=>{h([]),n([])},L=()=>{x(r=>!r)},V=()=>{const r=t.slice(0,u);h(r),n(r)},$=()=>{if(t.length===a.length)v();else{const r=a.map(s=>s.value);h(r),n(r)}};return e.jsxs(W,{open:R,onOpenChange:x,modal:g,children:[e.jsx(J,{asChild:!0,children:e.jsx(q,{ref:D,...z,onClick:L,variant:"outline",className:l("flex h-auto min-h-10 w-full items-center justify-between",T),children:t.length>0?e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[t.slice(0,u).map(r=>{const s=a.find(y=>y.value===r),f=s==null?void 0:s.icon;return e.jsxs(w,{className:l(p?"animate-bounce":"",I({variant:i})),style:{animationDuration:`${o}s`},children:[f&&e.jsx(f,{className:"mr-2 h-4 w-4"}),s==null?void 0:s.label,e.jsx("button",{onClick:y=>{y.stopPropagation(),N(r)},children:e.jsx(P,{className:"ml-2 h-4 w-4 cursor-pointer"})})]},r)}),t.length>u&&e.jsxs(w,{className:l("border-foreground/1 bg-transparent text-foreground hover:bg-transparent",p?"animate-bounce":"",I({variant:i})),style:{animationDuration:`${o}s`},children:[`+ ${t.length-u} more`,e.jsx("button",{onClick:r=>{r.stopPropagation(),V()},children:e.jsx(P,{className:"ml-2 h-4 w-4 cursor-pointer"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),v()},children:e.jsx(Z,{className:"mx-2 h-4 cursor-pointer text-muted-foreground"})}),e.jsx(b,{orientation:"vertical",className:"flex h-full min-h-6"}),e.jsx(C,{className:"mx-2 h-4 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"mx-auto flex w-full items-center justify-between",children:[e.jsx("span",{className:"mx-3 text-sm text-muted-foreground",children:m}),e.jsx(C,{className:"mx-2 h-4 cursor-pointer text-muted-foreground"})]})})}),e.jsx(Q,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>x(!1),children:e.jsxs(F,{children:[e.jsx(H,{placeholder:"Search...",onKeyDown:B}),e.jsxs(X,{children:[e.jsx(G,{children:"No results found."}),e.jsxs(k,{children:[e.jsxs(j,{onSelect:$,className:"cursor-pointer",children:[e.jsx("div",{className:l("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.length===a.length?"bg-primary text-white":"opacity-50 [&_svg]:invisible"),children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),a.map(r=>{const s=t.includes(r.value);return e.jsxs(j,{onSelect:()=>N(r.value),className:"cursor-pointer",children:[e.jsx("div",{className:l("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",s?"bg-primary text-white":"opacity-50 [&_svg]:invisible"),children:e.jsx(S,{className:"h-4 w-4"})}),r.icon&&e.jsx(r.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]},r.value)})]}),e.jsx(U,{}),e.jsx(k,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(j,{onSelect:v,className:"flex-1 cursor-pointer justify-center",children:"Clear"}),e.jsx(b,{orientation:"vertical",className:"flex h-full min-h-6"})]}),e.jsx(j,{onSelect:()=>x(!1),className:"max-w-full flex-1 cursor-pointer justify-center",children:"Close"})]})})]})]})}),o>0&&t.length>0&&e.jsx(se,{className:l("my-2 h-3 w-3 cursor-pointer bg-background text-foreground",p?"":"text-muted-foreground"),onClick:()=>_(!p)})]})});oe.displayName="MultiSelect";export{oe as M};
