import{x as I,j as e,t as S}from"./app-5G6iJb5i.js";import{H as D}from"./HeaderTitle-Cc51rAMj.js";import{I as k}from"./IconArrowLeft-C6PsUtr9.js";import{l as P,A as E}from"./AppLayout-DUuU36uc.js";import{B as c}from"./button-CIL1ReQ8.js";import{C as m,c as u,d as x,a as j}from"./card-Bqk0IEKP.js";import{I as l}from"./input-DaH5Vbhr.js";import{L as t}from"./label-BXXSn1Cx.js";import{S as T,a as L,b as B,c as F,d as H}from"./select-DjFrySzD.js";import{T as K}from"./textarea-B_2y7iSp.js";import{f as z}from"./index-B9GTUlAE.js";import{t as A}from"./index-DdeEEz-B.js";import"./ApplicationLogo-BUFsgaJq.js";import"./check-CWrr7DDb.js";import"./index-CBkI1MNZ.js";import"./index-BZJcMor2.js";import"./chevron-down-C6IZj-Ss.js";function R(a){var h,p,f,v,_;const{data:i,setData:g,reset:b,put:y,processing:N,errors:s}=I({loan_date:new Date((h=a.loan)==null?void 0:h.loan_date).toLocaleDateString("id-ID")??"",loan_code:((p=a.loan)==null?void 0:p.loan_code)??"",due_date:new Date((f=a.loan)==null?void 0:f.due_date).toLocaleDateString("id-ID")??"",return_date:new Date((v=a.date)==null?void 0:v.return_date).toLocaleDateString("id-ID")??null,condition:null,notes:"",_method:a.page_settings.method}),r=n=>g(n.target.name,n.target.value),w=()=>{b()},C=n=>{n.preventDefault(),y(a.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:d=>{const o=z(d);o&&A[o.type](o.message)}})};return e.jsxs("div",{className:"flex w-full flex-col space-y-4 pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(D,{title:a.page_settings.title,subtitle:a.page_settings.subtitle,icon:P}),e.jsx(c,{variant:"orange",size:"lg",asChild:!0,children:e.jsxs(S,{href:route("admin.return-books.index"),children:[e.jsx(k,{className:"size-4"})," Kembali"]})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 lg:gap-8",children:[e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(x,{children:"Data Peminjam"})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Nama"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.user.name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Username"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.user.username})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Email"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.user.email})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Nomor Telepon"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.user.phone??"--"})]})]})]}),e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(x,{children:"Data Buku"})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Kode Buku"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.book.book_code})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Judul"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.book.title})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Penulis"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.book.author})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{children:"Penerbit"}),e.jsx(l,{type:"text",disabled:!0,value:a.loan.book.publisher.name})]})]})]})]}),e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(x,{children:"Data Peminjaman"})}),e.jsx(j,{children:e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"loan_code",children:"Kode Peminjaman"}),e.jsx(l,{name:"loan_code",id:"loan_code",type:"text",value:i.loan_code,onChange:r,disabled:!0}),s.loan_code&&e.jsx(InputError,{message:s.loan_code})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"loan_date",children:"Tanggal Peminjaman"}),e.jsx(l,{name:"loan_date",id:"loan_date",type:"text",value:i.loan_date,onChange:r,disabled:!0}),s.loan_date&&e.jsx(InputError,{message:s.loan_date})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"due_date",children:"Batas Pengembalian"}),e.jsx(l,{name:"due_date",id:"due_date",type:"text",value:i.due_date,onChange:r,disabled:!0}),s.due_date&&e.jsx(InputError,{message:s.due_date})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"return_date",children:"Tanggal Pengembalian"}),e.jsx(l,{name:"return_date",id:"return_date",type:"text",value:i.return_date,onChange:r,disabled:!0}),s.return_date&&e.jsx(InputError,{message:s.return_date})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"condition",children:"Kondisi Buku"}),e.jsxs(T,{defaultValue:i.condition,onValueChange:n=>g("condition",n),children:[e.jsx(L,{children:e.jsx(B,{children:((_=a.conditions.find(n=>n.value.toString()===i.condition))==null?void 0:_.label)??"Pilih Kondisi"})}),e.jsx(F,{children:a.conditions.map((n,d)=>e.jsx(H,{value:n.value,children:n.label},d))})]}),s.condition&&e.jsx(InputError,{message:s.condition})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"notes",children:"Catatan"}),e.jsx(K,{name:"notes",id:"notes",onChange:r,placeholder:"Masukkan catatan....",value:i.notes}),s.notes&&e.jsx(InputError,{message:s.notes})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(c,{type:"button",variant:"ghost",size:"lg",onClick:w,children:"Reset"}),e.jsx(c,{type:"submit",variant:"orange",size:"lg",disabled:N,children:"Kembalikan"})]})]})})]})]})}R.layout=a=>e.jsx(E,{children:a,title:a.props.page_settings.title});export{R as default};
