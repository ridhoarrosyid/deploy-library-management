import{x as N,j as e,t as I}from"./app-5G6iJb5i.js";import{H as T}from"./HeaderTitle-Cc51rAMj.js";import{I as B}from"./IconArrowLeft-C6PsUtr9.js";import{c as H,A as M}from"./AppLayout-DUuU36uc.js";import{I as d}from"./InputError-B0fpUmEo.js";import{B as g}from"./button-CIL1ReQ8.js";import{C as S,a as _}from"./card-Bqk0IEKP.js";import{I as c}from"./input-DaH5Vbhr.js";import{L as u}from"./label-BXXSn1Cx.js";import{f as F}from"./index-B9GTUlAE.js";import{t as R}from"./index-DdeEEz-B.js";import"./ApplicationLogo-BUFsgaJq.js";import"./check-CWrr7DDb.js";import"./index-CBkI1MNZ.js";function z(a){const{data:n,setData:f,reset:p,post:b,processing:k,errors:t}=N({total:a.stock.total??0,available:a.stock.available??0,loan:a.stock.loan,lost:a.stock.lost,damaged:a.stock.damaged,_method:a.page_settings.method}),v=(r,i,s,m)=>r+i+s+m,o=r=>{const{name:i,value:s}=r.target,m=parseInt(s,10)||0;f(l=>{if(i==="total"){const x=v(0,l.loan,l.lost,l.damaged),h=m>=x?m:x,w=h-l.total,j=l.available+w;return{...l,total:h,available:j>=0?j:0}}return{...l,[i]:m}})},y=()=>{p()},C=r=>{r.preventDefault(),b(a.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:i=>{const s=F(i);s&&R[s.type](s.message)}})};return e.jsxs("div",{className:"flex w-full flex-col pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(T,{title:a.page_settings.title,subtitle:a.page_settings.subtitle,icon:H}),e.jsx(g,{variant:"orange",size:"lg",asChild:!0,children:e.jsxs(I,{href:route("admin.book-stock-reports.index"),children:[e.jsx(B,{className:"size-4"})," Kembali"]})})]}),e.jsx(S,{children:e.jsx(_,{className:"p-6",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{htmlFor:"total",children:"Total"}),e.jsx(c,{name:"total",id:"total",type:"number",placeholder:"Masukkan Total Buku...",value:n.total,onChange:o}),t.total&&e.jsx(d,{message:t.total})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{htmlFor:"available",children:"Tersedia"}),e.jsx(c,{name:"available",id:"available",type:"number",placeholder:"Masukkan Buku Tersedia...",value:n.available,onChange:o,disabled:!0}),t.available&&e.jsx(d,{message:t.available})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{htmlFor:"loan",children:"Dipinjam"}),e.jsx(c,{name:"loan",id:"loan",type:"number",placeholder:"Masukkan Buku Dipinjam...",value:n.loan,onChange:o,disabled:!0}),t.loan&&e.jsx(d,{message:t.loan})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{htmlFor:"damaged",children:"Rusak"}),e.jsx(c,{name:"damaged",id:"damaged",type:"number",placeholder:"Masukkan Buku Rusak...",value:n.damaged,onChange:o,disabled:!0}),t.damaged&&e.jsx(d,{message:t.damaged})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{htmlFor:"lost",children:"Hilang"}),e.jsx(c,{name:"lost",id:"lost",type:"number",placeholder:"Masukkan Buku Hilang...",value:n.lost,onChange:o,disabled:!0}),t.lost&&e.jsx(d,{message:t.lost})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(g,{type:"button",variant:"ghost",size:"lg",onClick:y,children:"Reset"}),e.jsx(g,{type:"submit",variant:"orange",size:"lg",disabled:k,children:"Simpan"})]})]})})})]})}z.layout=a=>e.jsx(M,{children:a,title:a.props.page_settings.title});export{z as default};
