import{r as w,x as F,j as e,t as I}from"./app-5G6iJb5i.js";import{H as V}from"./HeaderTitle-Cc51rAMj.js";import{I as M}from"./IconArrowLeft-C6PsUtr9.js";import{d as B,A as H}from"./AppLayout-DUuU36uc.js";import{I as r}from"./InputError-B0fpUmEo.js";import{B as j}from"./button-CIL1ReQ8.js";import{C as P,a as T}from"./card-Bqk0IEKP.js";import{I as d}from"./input-DaH5Vbhr.js";import{L as i}from"./label-BXXSn1Cx.js";import{S as u,a as m,b as g,c as h,d as p}from"./select-DjFrySzD.js";import{T as R}from"./textarea-B_2y7iSp.js";import{f as z}from"./index-B9GTUlAE.js";import{t as L}from"./index-DdeEEz-B.js";import"./ApplicationLogo-BUFsgaJq.js";import"./check-CWrr7DDb.js";import"./index-CBkI1MNZ.js";import"./index-BZJcMor2.js";import"./chevron-down-C6IZj-Ss.js";function A(l){var b,v,_;const f=w.useRef(null),{data:t,setData:c,reset:y,post:C,processing:N,errors:s}=F({title:"",author:"",publication_year:null,isbn:"",language:null,synopsis:"",number_of_pages:"",cover:null,price:"",category_id:null,publisher_id:null,total:"",_method:l.page_settings.method}),o=a=>c(a.target.name,a.target.value),k=()=>{y(),f.current.value=null},S=a=>{a.preventDefault(),C(l.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:n=>{const x=z(n);x&&L[x.type](x.message)}})};return e.jsxs("div",{className:"flex w-full flex-col pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(V,{title:l.page_settings.title,subtitle:l.page_settings.subtitle,icon:B}),e.jsx(j,{variant:"orange",size:"lg",asChild:!0,children:e.jsxs(I,{href:route("admin.books.index"),children:[e.jsx(M,{className:"size-4"})," Kembali"]})})]}),e.jsx(P,{children:e.jsx(T,{className:"p-6",children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"title",children:"Judul"}),e.jsx(d,{name:"title",id:"title",type:"text",placeholder:"Masukkan judul...",value:t.title,onChange:o}),s.title&&e.jsx(r,{message:s.title})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"author",children:"Penulis"}),e.jsx(d,{name:"author",id:"author",type:"text",placeholder:"Masukkan nama penulis...",value:t.author,onChange:o}),s.author&&e.jsx(r,{message:s.author})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"publication_year",children:"Tahun Terbit"}),e.jsxs(u,{defaultValue:t.publication_year,onValueChange:a=>c("publication_year",a),children:[e.jsx(m,{children:e.jsx(g,{children:l.page_data.publication_years.find(a=>a.toString()===t.publication_year)??"Pilih tahun terbit"})}),e.jsx(h,{children:l.page_data.publication_years.map((a,n)=>e.jsx(p,{value:a,children:a},n))})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"isbn",children:"ISBN (International Standard Book Number)"}),e.jsx(d,{name:"isbn",id:"isbn",type:"text",placeholder:"Masukkan ISBN...",value:t.isbn,onChange:o}),s.isbn&&e.jsx(r,{message:s.isbn})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"language",children:"Bahasa"}),e.jsxs(u,{defaultValue:t.language,onValueChange:a=>c("language",a),children:[e.jsx(m,{children:e.jsx(g,{children:((b=l.page_data.languages.find(a=>a.value===t.language))==null?void 0:b.label)??"Pilih bahasa"})}),e.jsx(h,{children:l.page_data.languages.map((a,n)=>e.jsx(p,{value:a.value,children:a.label},n))})]}),s.language&&e.jsx(r,{message:s.language})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"synopsis",children:"Sinopsis"}),e.jsx(R,{name:"synopsis",id:"synopsis",onChange:o,placeholder:"Masukkan sinopsis...",value:t.synopsis}),s.synopsis&&e.jsx(r,{message:s.synopsis})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"number_of_pages",children:"Jumlah halaman"}),e.jsx(d,{name:"number_of_pages",id:"number_of_pages",type:"number",min:"0",placeholder:"Masukkan Jumlah Halaman...",value:t.number_of_pages,onChange:o}),s.number_of_pages&&e.jsx(r,{message:s.number_of_pages})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"cover",children:"Cover"}),e.jsx(d,{name:"cover",id:"cover",type:"file",onChange:a=>c(a.target.name,a.target.files[0]),ref:f}),s.cover&&e.jsx(r,{message:s.cover})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"price",children:"Harga"}),e.jsx(d,{name:"price",id:"price",min:"0",type:"number",placeholder:"Masukkan harga...",value:t.price,onChange:o}),s.price&&e.jsx(r,{message:s.price})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"category_id",children:"Kategori"}),e.jsxs(u,{defaultValue:t.category_id,onValueChange:a=>c("category_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((v=l.page_data.categories.find(a=>a.value.toString()===t.category_id))==null?void 0:v.label)??"Pilih Kategori"})}),e.jsx(h,{children:l.page_data.categories.map((a,n)=>e.jsx(p,{value:a.value,children:a.label},n))})]}),s.category_id&&e.jsx(r,{message:s.category_id})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"publisher_id",children:"Penerbit"}),e.jsxs(u,{defaultValue:t.publisher_id,onValueChange:a=>c("publisher_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((_=l.page_data.publishers.find(a=>a.value.toString()===t.publisher_id))==null?void 0:_.label)??"Pilih penerbit"})}),e.jsx(h,{children:l.page_data.publishers.map((a,n)=>e.jsx(p,{value:a.value,children:a.label},n))})]}),s.publisher_id&&e.jsx(r,{message:s.publisher_id})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"total",children:"Stok"}),e.jsx(d,{name:"total",id:"total",type:"number",min:"0",placeholder:"Masukkan total stok...",value:t.total,onChange:o}),s.total&&e.jsx(r,{message:s.total})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(j,{type:"button",variant:"ghost",size:"lg",onClick:k,children:"Reset"}),e.jsx(j,{type:"submit",variant:"orange",size:"lg",disabled:N,children:"Simpan"})]})]})})})]})}A.layout=l=>e.jsx(H,{children:l,title:l.props.page_settings.title});export{A as default};
