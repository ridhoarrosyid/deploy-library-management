import{x as b,j as e,t as _}from"./app-5G6iJb5i.js";import{C as n}from"./ComboBox-_DNDH7bT.js";import{H as v}from"./HeaderTitle-Cc51rAMj.js";import{I as y}from"./IconArrowLeft-C6PsUtr9.js";import{l as S,A as D}from"./AppLayout-DUuU36uc.js";import{I as m}from"./InputError-B0fpUmEo.js";import{B as l}from"./button-CIL1ReQ8.js";import{C as k,a as C}from"./card-Bqk0IEKP.js";import{L as d}from"./label-BXXSn1Cx.js";import{f as N}from"./index-B9GTUlAE.js";import{t as w}from"./index-DdeEEz-B.js";import"./command-bi_pEa4I.js";import"./index-CBkI1MNZ.js";import"./check-CWrr7DDb.js";import"./popover-Dg7K0VWx.js";import"./ApplicationLogo-BUFsgaJq.js";function I(t){const{data:a,setData:r,reset:c,post:u,processing:g,errors:o}=b({user:t.loan.user.name??null,book:t.loan.book.title??null,loan_date:t.loan.loan_date,due_date:t.loan.due_date,_method:t.page_settings.method}),x=new Date(a.loan_date).toLocaleDateString("id-ID",{dateStyle:"long"}),f=new Date(a.due_date).toLocaleDateString("id-ID",{dateStyle:"long"}),p=()=>{c()},j=s=>{s.preventDefault(),u(t.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:h=>{const i=N(h);i&&w[i.type](i.message)}})};return e.jsxs("div",{className:"flex w-full flex-col pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(v,{title:t.page_settings.title,subtitle:t.page_settings.subtitle,icon:S}),e.jsx(l,{variant:"orange",size:"lg",asChild:!0,children:e.jsxs(_,{href:route("admin.loans.index"),children:[e.jsx(y,{className:"size-4"})," Kembali"]})})]}),e.jsx(k,{children:e.jsx(C,{className:"p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx("div",{className:"grid w-full items-center gap-1.5",children:e.jsxs("p",{className:"font-semibold",children:["Buat pinjaman dari tanggal ",x," sampai ",f]})}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{htmlFor:"user",children:"Pengguna"}),e.jsx(n,{items:t.page_data.users,selectedItem:a.user,onSelect:s=>r("user",s)}),o.user&&e.jsx(m,{message:o.user})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{htmlFor:"book",children:"Buku"}),e.jsx(n,{items:t.page_data.books,selectedItem:a.book,onSelect:s=>r("book",s)}),o.book&&e.jsx(m,{message:o.book})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(l,{type:"button",variant:"ghost",size:"lg",onClick:p,children:"Reset"}),e.jsx(l,{type:"submit",variant:"orange",size:"lg",disabled:g,children:"Simpan"})]})]})})})]})}I.layout=t=>e.jsx(D,{children:t,title:t.props.page_settings.title});export{I as default};
