import{r as w,x as I,j as e,t as F}from"./app-5G6iJb5i.js";import{H as V}from"./HeaderTitle-Cc51rAMj.js";import{I as B}from"./IconArrowLeft-C6PsUtr9.js";import{d as H,A as M}from"./AppLayout-DUuU36uc.js";import{I as r}from"./InputError-B0fpUmEo.js";import{B as j}from"./button-CIL1ReQ8.js";import{C as P,a as T}from"./card-Bqk0IEKP.js";import{I as d}from"./input-DaH5Vbhr.js";import{L as t}from"./label-BXXSn1Cx.js";import{S as u,a as m,b as g,c as h,d as x}from"./select-DjFrySzD.js";import{T as R}from"./textarea-B_2y7iSp.js";import{f as z}from"./index-B9GTUlAE.js";import{t as E}from"./index-DdeEEz-B.js";import"./ApplicationLogo-BUFsgaJq.js";import"./check-CWrr7DDb.js";import"./index-CBkI1MNZ.js";import"./index-BZJcMor2.js";import"./chevron-down-C6IZj-Ss.js";function L(s){var f,_,v;const b=w.useRef(null),{data:l,setData:o,reset:y,post:k,processing:S,errors:i}=I({title:s.book.title??"",author:s.book.author??"",publication_year:s.book.publication_year.toString()??null,isbn:s.book.isbn??"",language:s.book.language??null,synopsis:s.book.synopsis??"",number_of_pages:s.book.number_of_pages??"",cover:null,price:s.book.price??0,category_id:s.book.category_id.toString()??null,publisher_id:s.book.publisher_id.toString()??null,_method:s.page_settings.method}),c=a=>o(a.target.name,a.target.value),C=()=>{y(),b.current.value=null},N=a=>{a.preventDefault(),k(s.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:n=>{const p=z(n);p&&E[p.type](p.message)}})};return e.jsxs("div",{className:"flex w-full flex-col pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(V,{title:s.page_settings.title,subtitle:s.page_settings.subtitle,icon:H}),e.jsx(j,{variant:"orange",size:"lg",asChild:!0,children:e.jsxs(F,{href:route("admin.books.index"),children:[e.jsx(B,{className:"size-4"})," Kembali"]})})]}),e.jsx(P,{children:e.jsx(T,{className:"p-6",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"title",children:"Judul"}),e.jsx(d,{name:"title",id:"title",type:"text",placeholder:"Masukkan judul...",value:l.title,onChange:c}),i.title&&e.jsx(r,{message:i.title})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"author",children:"Penulis"}),e.jsx(d,{name:"author",id:"author",type:"text",placeholder:"Masukkan nama penulis...",value:l.author,onChange:c}),i.author&&e.jsx(r,{message:i.author})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"publication_year",children:"Tahun Terbit"}),e.jsxs(u,{defaultValue:l.publication_year,onValueChange:a=>o("publication_year",a),children:[e.jsx(m,{children:e.jsx(g,{children:s.page_data.publication_years.find(a=>a.toString()===l.publication_year)??"Pilih tahun terbit"})}),e.jsx(h,{children:s.page_data.publication_years.map((a,n)=>e.jsx(x,{value:a,children:a},n))})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"isbn",children:"ISBN (International Standard Book Number)"}),e.jsx(d,{name:"isbn",id:"isbn",type:"text",placeholder:"Masukkan ISBN...",value:l.isbn,onChange:c}),i.isbn&&e.jsx(r,{message:i.isbn})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"language",children:"Bahasa"}),e.jsxs(u,{defaultValue:l.language,onValueChange:a=>o("language",a),children:[e.jsx(m,{children:e.jsx(g,{children:((f=s.page_data.languages.find(a=>a.value===l.language))==null?void 0:f.label)??"Pilih bahasa"})}),e.jsx(h,{children:s.page_data.languages.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"synopsis",children:"Sinopsis"}),e.jsx(R,{name:"synopsis",id:"synopsis",onChange:c,placeholder:"Masukkan sinopsis...",value:l.synopsis}),i.synopsis&&e.jsx(r,{message:i.synopsis})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"number_of_pages",children:"Jumlah halaman"}),e.jsx(d,{name:"number_of_pages",id:"number_of_pages",type:"number",placeholder:"Masukkan Jumlah Halaman...",value:l.number_of_pages,onChange:c}),i.number_of_pages&&e.jsx(r,{message:i.number_of_pages})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"cover",children:"Cover"}),e.jsx(d,{name:"cover",id:"cover",type:"file",onChange:a=>o(a.target.name,a.target.files[0]),ref:b}),i.cover&&e.jsx(r,{message:i.cover})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"price",children:"Harga"}),e.jsx(d,{name:"price",id:"price",type:"number",placeholder:"Masukkan harga...",value:l.price,onChange:c}),i.price&&e.jsx(r,{message:i.price})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"category_id",children:"Kategori"}),e.jsxs(u,{defaultValue:l.category_id,onValueChange:a=>o("category_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((_=s.page_data.categories.find(a=>a.value.toString()===l.category_id))==null?void 0:_.label)??"Pilih Kategori"})}),e.jsx(h,{children:s.page_data.categories.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(t,{htmlFor:"publisher_id",children:"Penerbit"}),e.jsxs(u,{defaultValue:l.publisher_id,onValueChange:a=>o("publisher_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((v=s.page_data.publishers.find(a=>a.value.toString()===l.publisher_id))==null?void 0:v.label)??"Pilih penerbit"})}),e.jsx(h,{children:s.page_data.publishers.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(j,{type:"button",variant:"ghost",size:"lg",onClick:C,children:"Reset"}),e.jsx(j,{type:"submit",variant:"orange",size:"lg",disabled:S,children:"Simpan"})]})]})})})]})}L.layout=s=>e.jsx(M,{children:s,title:s.props.page_settings.title});export{L as default};
